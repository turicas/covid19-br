# API Dataset covid19 no Brasil.IO

## Licen√ßa

Os dados dados convertidos est√£o sob a licen√ßa [Creative Commons Attribution
ShareAlike](https://creativecommons.org/licenses/by-sa/4.0/). Caso utilize os
dados, **cite a fonte original e quem tratou os dados**, como: **Fonte:
Secretarias de Sa√∫de das Unidades Federativas, dados tratados por √Ålvaro Justen
e colaboradores/[Brasil.IO](https://brasil.io/)**. Caso compartilhe os dados,
**utilize a mesma licen√ßa**.

## Dados

Depois de coletados e checados os dados ficam dispon√≠veis de 3 formas no
[Brasil.IO](https://brasil.io/):

- [Interface Web](https://brasil.io/dataset/covid19) (feita para humanos)
- [API](https://brasil.io/api/dataset/covid19) (feita para humanos que desenvolvem programas) - [veja a documenta√ß√£o da API](api.md)
- [Download do dataset completo](https://data.brasil.io/dataset/covid19/_meta/list.html)

Caso queira acessar os dados antes de serem publicados (ATEN√á√ÉO: pode ser que
n√£o tenham sido checados), voc√™ pode [acessar diretamente as planilhas em que
estamos
trabalhando](https://drive.google.com/open?id=1l3tiwrGEcJEV3gxX0yP-VMRNaE1MLfS2).

Se esse programa e/ou os dados resultantes foram √∫teis a voc√™ ou √† sua empresa,
**considere [fazer uma doa√ß√£o ao projeto Brasil.IO](https://brasil.io/doe)**,
que √© mantido voluntariamente.

### FAQ SOBRE OS DADOS

**Antes de entrar em contato conosco (estamos sobrecarregados) para tirar
d√∫vidas sobre os dados, [CONSULTE NOSSO FAQ](faq.md).**

Para mais detalhes [veja a metodologia de coleta de
dados](https://drive.google.com/open?id=1escumcbjS8inzAKvuXOQocMcQ8ZCqbyHU5X5hFrPpn4).

## Documenta√ß√£o da API

> ATEN√á√ÉO: a API possui pagina√ß√£o e por padr√£o s√£o devolvidos 1.000 registros
> por p√°gina. Para capturar todos os dados (de todas as p√°ginas), voc√™ precisa
> visitar sempre a p√°gina referenciada em `next` no JSON resultante. Caso
> queira alterar o n√∫mero de registros por p√°gina, basta passar o valor atrav√©s
> da *query string* `page_size` (m√°ximo de 10.000 registros por p√°gina).

### `caso`

Essa tabela tem apenas os casos relatados pelos boletins das Secretarias
Estaduais de Sa√∫de e, por isso, n√£o possui valores para todos os munic√≠pios e
todas as datas - √© nossa "tabela can√¥nica", que reflete o que foi publicado.
Caso voc√™ precise dos dados por munic√≠pio por dia completos, veja a tabela
[`caso_full`](#caso_full).

N√∫mero de casos confirmados e √≥bitos por munic√≠pio por dia, segundo as
Secretarias Estaduais de Sa√∫de.

- API: https://brasil.io/api/dataset/covid19/caso/data
- Dados completos para download: https://data.brasil.io/dataset/covid19/caso.csv.gz

Colunas:

- üîç `search`: passe algum valor para executar a busca por texto completo, que
  compreende algumas das colunas da tabela.
- üîç `date`: data de coleta dos dados no formato YYYY-MM-DD.
- üîç `state`: sigla da unidade federativa, exemplo: SP.
- üîç `city`: nome do munic√≠pio (pode estar em branco quando o registro √©
  referente ao estado, pode ser preenchido com `Importados/Indefinidos`
  tamb√©m).
- üîç `place_type`: tipo de local que esse registro descreve, pode ser `city` ou
  `state`.
- `confirmed`: n√∫mero de casos confirmados.
- `deaths`: n√∫mero de mortes.
- üîç `order_for_place`: n√∫mero que identifica a ordem do registro para este
  local. O registro referente ao primeiro boletim em que esse local aparecer
  ser√° contabilizado como `1` e os demais boletins incrementar√£o esse valor.
- üîç `is_last`: campo pr√©-computado que diz se esse registro √© o mais novo para
  esse local, pode ser `True` ou `False` (caso filtre por esse campo, use
  `is_last=True` ou `is_last=False`, **n√£o use o valor em min√∫sculas**).
- `estimated_population_2019`: popula√ß√£o estimada para esse munic√≠pio/estado em
  2019, [segundo o
  IBGE](https://www.ibge.gov.br/estatisticas/sociais/populacao/9103-estimativas-de-populacao.html?=&t=resultados)
  ([acesse o script que faz o download e convers√£o dos dados de
  popula√ß√£o](https://github.com/turicas/censo-ibge)).
- üîç `city_ibge_code`: c√≥digo IBGE do local.
- `confirmed_per_100k_inhabitants`: n√∫mero de casos confirmados por 100.000
  habitantes.
- `death_rate`: taxa de mortalidade (mortes / confirmados).

üîç = colunas que podem ser filtrados via query string na API e na interface.

#### Exemplos

Recuperando todos os casos :

```shell
curl -X GET https://brasil.io/api/dataset/covid19/caso/data
{
  "count": 2023,
  "next": "https://brasil.io/api/dataset/covid19/caso/data?page=2",
  "previous": null,
  "results": [
    {
      "city": "Rio Branco",
      "city_ibge_code": "1200401",
      "confirmed": 25,
      "confirmed_per_100k_inhabitants": 6.1377,
      "date": "2020-03-27",
      "death_rate": null,
      "deaths": 0,
      "estimated_population_2019": 407319,
      "is_last": true,
      "place_type": "city",
      "state": "AC"
    },
    {
      "city": null,
      "city_ibge_code": "12",
      "confirmed": 25,
      "confirmed_per_100k_inhabitants": 2.83468,
      "date": "2020-03-27",
      "death_rate": null,
      "deaths": 0,
      "estimated_population_2019": 881935,
      "is_last": true,
      "place_type": "state",
      "state": "AC"
    },
...
```

Recuperando os dados mais atualizados de Alagoas :

```shell
curl -X GET https://brasil.io/api/dataset/covid19/caso/data?is_last=True&state=AL
{
  "count": 3,
  "next": null,
  "previous": null,
  "results": [
    {
      "city": "Macei√≥",
      "city_ibge_code": "2704302",
      "confirmed": 10,
      "confirmed_per_100k_inhabitants": 0.9814,
      "date": "2020-03-26",
      "death_rate": null,
      "deaths": 0,
      "estimated_population_2019": 1018948,
      "is_last": true,
      "place_type": "city",
      "state": "AL"
    },
    {
      "city": "Porto Real do Col√©gio",
      "city_ibge_code": "2707503",
      "confirmed": 1,
      "confirmed_per_100k_inhabitants": 4.98355,
      "date": "2020-03-26",
      "death_rate": null,
      "deaths": 0,
      "estimated_population_2019": 20066,
      "is_last": true,
      "place_type": "city",
      "state": "AL"
    },
    {
      "city": null,
      "city_ibge_code": "27",
      "confirmed": 11,
      "confirmed_per_100k_inhabitants": 0.3296,
      "date": "2020-03-26",
      "death_rate": null,
      "deaths": 0,
      "estimated_population_2019": 3337357,
      "is_last": true,
      "place_type": "state",
      "state": "AL"
    }
  ]
}
```

Recuperando apenas os dados acumulados mais recentes dos Estados :

```shell
curl -X GET https://brasil.io/api/dataset/covid19/caso/data?is_last=True&place_type=state
{
  "count": 27,
  "next": null,
  "previous": null,
  "results": [
    {
      "city": null,
      "city_ibge_code": "12",
      "confirmed": 25,
      "confirmed_per_100k_inhabitants": 2.83468,
      "date": "2020-03-27",
      "death_rate": null,
      "deaths": 0,
      "estimated_population_2019": 881935,
      "is_last": true,
      "place_type": "state",
      "state": "AC"
    },
    {
      "city": null,
      "city_ibge_code": "13",
      "confirmed": 81,
      "confirmed_per_100k_inhabitants": 1.95435,
      "date": "2020-03-27",
      "death_rate": 0.0123,
      "deaths": 1,
      "estimated_population_2019": 4144597,
      "is_last": true,
      "place_type": "state",
      "state": "AM"
    },
...
```

### `boletim`

Tabela que lista os boletins publicados pelas Secretarias Estaduais de Sa√∫de.
Pode aparecer mais de um para a mesma data e podem existir dias em que as SES
n√£o publicam boletins.

Links para os boletins das Secretarias Estaduais de Sa√∫de de onde retiramos os
dados de casos confirmados e mortes.

- API: https://brasil.io/api/dataset/covid19/boletim/data
- Dados completos para download: https://data.brasil.io/dataset/covid19/boletim.csv.gz

Colunas:

- üîç `search`: passe algum valor para executar a busca por texto completo, que
  compreende algumas das colunas da tabela.
- üîç `date`: data do boletim no formato YYYY-MM-DD.
- `notes`: observa√ß√µes sobre esse boletim
- üîç `state`: sigla da unidade federativa, exemplo: SP.
- `url`: link para o boletim

üîç = colunas que podem ser filtrados via query string na API e na interface.

#### Exemplos

Recuperando todos os boletins do estado de S√£o Paulo :

```shell
curl -X GET https://brasil.io/api/dataset/covid19/boletim/data?state=SP
{
  "count": 28,
  "next": null,
  "previous": null,
  "results": [
    {
      "date": "2020-03-26",
      "notes": null,
      "state": "SP",
      "url": "http://www.saude.sp.gov.br/resources/cve-centro-de-vigilancia-epidemiologica/areas-de-vigilancia/doencas-de-transmissao-respiratoria/coronavirus/coronavirus2603_31situacao_epidemiologica.pdf"
    },
    {
      "date": "2020-03-25",
      "notes": "e-mail recebido pelo Turicas",
      "state": "SP",
      "url": "http://www.saude.sp.gov.br/resources/cve-centro-de-vigilancia-epidemiologica/areas-de-vigilancia/doencas-de-transmissao-respiratoria/coronavirus/coronavirus2503_30situacao_epidemiologica.pdf"
    },
    {
      "date": "2020-03-24",
      "notes": null,
      "state": "SP",
      "url": "http://www.portaldenoticias.saude.sp.gov.br/sp-registra-40-obitos-relacionados-a-covid-19/"
    },
...
```


### `caso_full`

Tabela gerada a partir da tabela [`caso`](#caso), que possui um registro por
munic√≠pio (+ Importados/Indefinidos) e estado para cada data dispon√≠vel; nos
casos em que um boletim n√£o foi divulgado naquele dia, √© copiado o dado do
√∫ltimo dia dispon√≠vel e a coluna `is_repeated` fica com o valor `True`.

- API: https://brasil.io/api/dataset/covid19/caso_full/data
- Dados completos para download: https://data.brasil.io/dataset/covid19/caso_full.csv.gz

Colunas:

- üîç `city`: nome do munic√≠pio (pode estar em branco quando o registro √©
  referente ao estado, pode ser preenchido com `Importados/Indefinidos`
  tamb√©m).
- üîç `city_ibge_code`: c√≥digo IBGE do local.
- üîç `date`: data de coleta dos dados no formato YYYY-MM-DD.
- üîç `epidemiological_week`: n√∫mero da semana epidemiol√≥gica.
- `estimated_population_2019`: popula√ß√£o estimada para esse munic√≠pio/estado em
  2019, [segundo o
  IBGE](https://www.ibge.gov.br/estatisticas/sociais/populacao/9103-estimativas-de-populacao.html?=&t=resultados)
  ([acesse o script que faz o download e convers√£o dos dados de
  popula√ß√£o](https://github.com/turicas/censo-ibge)).
- üîç `is_last`: campo pr√©-computado que diz se esse registro √© o mais novo para
  esse local, pode ser `True` ou `False` (caso filtre por esse campo, use
  `is_last=True` ou `is_last=False`, **n√£o use o valor em min√∫sculas**).
- üîç `is_repeated`: campo pr√©-computado que diz se as informa√ß√µes nesse
  registro foram publicadas pela Secretaria Estadual de Sa√∫de no dia `date` ou
  se o dado √© repetido do √∫ltimo dia em que o dado est√° dispon√≠vel (igual ou
  anterior a `date`). Isso ocorre pois nem todas as secretarias publicam
  boletins todos os dias. Veja tamb√©m o campo `last_available_date`.
- `last_available_confirmed`: n√∫mero de casos confirmados do √∫ltimo dia
  dispon√≠vel igual ou anterior √† data `date`.
- `last_available_confirmed_per_100k_inhabitants`: n√∫mero de casos confirmados
  por 100.000 habitantes do √∫ltimo dia dispon√≠vel igual ou anterior √† data
  `date`.
- üîç `last_available_date`: data da qual o dado se refere.
- `last_available_death_rate`: taxa de mortalidade (mortes / confirmados) do
  √∫ltimo dia dispon√≠vel igual ou anterior √† data `date`.
- `last_available_deaths`: n√∫mero de mortes do √∫ltimo dia dispon√≠vel igual ou
  anterior √† data `date`.
- üîç `order_for_place`: n√∫mero que identifica a ordem do registro para este
  local. O registro referente ao primeiro boletim em que esse local aparecer
  ser√° contabilizado como `1` e os demais boletins incrementar√£o esse valor.
- üîç `place_type`: tipo de local que esse registro descreve, pode ser `city` ou
  `state`.
- üîç `state`: sigla da unidade federativa, exemplo: SP.
- `new_confirmed`: n√∫mero de novos casos confirmados desde o √∫ltimo dia (note
  que caso `is_repeated` seja `True`, esse valor sempre ser√° `0` e que esse
  valor pode ser negativo caso a SES remaneje os casos desse munic√≠pio para
  outro).
- `new_deaths`: n√∫mero de novos √≥bitos desde o √∫ltimo dia (note que caso
  `is_repeated` seja `True`, esse valor sempre ser√° `0` e que esse valor pode
  ser negativo caso a SES remaneje os casos desse munic√≠pio para outro).

üîç = colunas que podem ser filtrados via query string na API e na interface.


### `obito_cartorio`

Essa tabela cont√©m dados de √≥bitos registrados nos cart√≥rios e dispon√≠veis no
[Portal da Transpar√™ncia do Registro
Civil](https://transparencia.registrocivil.org.br/registral-covid).

**DADOS INCOMPLETOS:** os cart√≥rios podem demorar algumas semanas para
consolidar os dados e, portanto, os dados dos 14 √∫ltimos dias (pelo menos) s√£o
incompletos e ser√£o atualizados no futuro. Caso queira ter certeza de que est√°
trabalhando com n√∫meros finais (ou quase finais), utilize dados anteriores a 30
dias da data de atualiza√ß√£o desse dataset.

- API: https://brasil.io/api/dataset/covid19/obito_cartorio/data
- Dados completos para download: https://data.brasil.io/dataset/covid19/obito_cartorio.csv.gz

Colunas:

- üîç `date`: Data no formato YYYY-MM-DD
- üîç `state`: Sigla da unidade federativa com dois d√≠gitos, exemplo: SP
- üîç `epidemiological_week_2019`: N√∫mero da semana epidemiol√≥gica para essa data em 2019.
- üîç `epidemiological_week_2020`: N√∫mero da semana epidemiol√≥gica para essa data em 2020.
- `new_deaths_sars_2019`: Quantidade de √≥bitos em decorr√™ncia de SRAG para o estado `state` ocorridos no dia/m√™s de `date`, por√©m em 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `new_deaths_pneumonia_2019`: Quantidade de √≥bitos em decorr√™ncia de pneumonia para o estado `state` ocorridos no dia/m√™s de `date`, por√©m em 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `new_deaths_respiratory_failure_2019`: Quantidade de √≥bitos em decorr√™ncia de insufici√™ncia respirat√≥ria para o estado `state` ocorridos no dia/m√™s de `date`, por√©m em 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `new_deaths_septicemia_2019`: Quantidade de √≥bitos em decorr√™ncia de septicemia para o estado `state` ocorridos no dia/m√™s de `date`, por√©m em 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `new_deaths_indeterminate_2019`: Quantidade de √≥bitos de motivo indeterminado para o estado `state` ocorridos no dia/m√™s de `date`, por√©m em 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `new_deaths_others_2019`: Quantidade de √≥bitos em decorr√™ncia de outros motivos para o estado `state` ocorridos no dia/m√™s de `date`, por√©m em 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `new_deaths_sars_2020`: Quantidade de √≥bitos em decorr√™ncia de SRAG para o estado `state` ocorridos na data `date` (em 2020).
- `new_deaths_pneumonia_2020`: Quantidade de √≥bitos em decorr√™ncia de pneumonia para o estado `state` ocorridos na data `date` (em 2020).
- `new_deaths_respiratory_failure_2020`: Quantidade de √≥bitos em decorr√™ncia de insufici√™ncia respirat√≥ria para o estado `state` ocorridos na data `date` (em 2020).
- `new_deaths_septicemia_2020`: Quantidade de √≥bitos em decorr√™ncia de septicemia para o estado `state` ocorridos na data `date` (em 2020).
- `new_deaths_indeterminate_2020`: Quantidade de √≥bitos de motivo indeterminado para o estado `state` ocorridos na data `date` (em 2020).
- `new_deaths_others_2020`: Quantidade de √≥bitos em decorr√™ncia de outros motivos para o estado `state` ocorridos na data `date` (em 2020).
- `new_deaths_covid19`: Quantidade de √≥bitos em decorr√™ncia de suspeita ou confirma√ß√£o de covid19 para o estado `state` ocorridos na data `date` (em 2020).
- `deaths_sars_2019`: Quantidade de √≥bitos em decorr√™ncia de SRAG para o estado `state` acumulados no ano de 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `deaths_pneumonia_2019`: Quantidade de √≥bitos em decorr√™ncia de pneumonia para o estado `state` acumulados no ano de 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `deaths_respiratory_failure_2019`: Quantidade de √≥bitos em decorr√™ncia de insufici√™ncia respirat√≥ria para o estado `state` acumulados no ano de 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `deaths_septicemia_2019`: Quantidade de √≥bitos em decorr√™ncia de septicemia para o estado `state` acumulados no ano de 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `deaths_indeterminate_2019`: Quantidade de √≥bitos de motivo indeterminado para o estado `state` acumulados no ano de 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `deaths_others_2019`: Quantidade de √≥bitos em decorr√™ncia de outros motivos para o estado `state` acumulados no ano de 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `deaths_sars_2020`: Quantidade de √≥bitos em decorr√™ncia de SRAG para o estado `state` acumulados no ano de 2020 (de 1 de janeiro de 2020 a `date`).
- `deaths_pneumonia_2020`: Quantidade de √≥bitos em decorr√™ncia de pneumonia para o estado `state` acumulados no ano de 2020 (de 1 de janeiro de 2020 a `date`).
- `deaths_respiratory_failure_2020`: Quantidade de √≥bitos em decorr√™ncia de insufici√™ncia respirat√≥ria para o estado `state` acumulados no ano de 2020 (de 1 de janeiro de 2020 a `date`).
- `deaths_septicemia_2020`: Quantidade de √≥bitos em decorr√™ncia de septicemia para o estado `state` acumulados no ano de 2020 (de 1 de janeiro de 2020 a `date`).
- `deaths_indeterminate_2020`: Quantidade de √≥bitos de motivo indeterminado para o estado `state` acumulados no ano de 2020 (de 1 de janeiro de 2020 a `date`).
- `deaths_others_2020`: Quantidade de √≥bitos em decorr√™ncia de outros motivos para o estado `state` acumulados no ano de 2020 (de 1 de janeiro de 2020 a `date`).
- `deaths_covid19`: Quantidade de √≥bitos em decorr√™ncia de suspeita ou confirma√ß√£o de covid19 para o estado `state` acumulados no ano de 2020 (de 1 de janeiro de 2020 a `date`).
- `new_deaths_total_2019`: Quantidade de √≥bitos totais para o estado `state` ocorridos no dia/m√™s de `date`, por√©m em 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `new_deaths_total_2020`: Quantidade de √≥bitos totais para o estado `state` ocorridos na data `date` (em 2020).
- `deaths_total_2019`: Quantidade de √≥bitos totais para o estado `state` acumulados no ano de 2019 (de 1 de janeiro de 2019 a dia/m√™s de `date` em 2019).
- `deaths_total_2020`: Quantidade de √≥bitos totais para o estado `state` acumulados no ano de 2020 (de 1 de janeiro de 2020 a `date`).

üîç = colunas que podem ser filtrados via query string na API e na interface.


### Dicas de uso

- [Preencha o formul√°rio de filtros na p√°gina do
  dataset](https://brasil.io/dataset/covid19/caso) e copie/cole a
  querystring (a mesma poder√° ser passada para a API);
- Em `caso` filtre por `is_last=True` para ter os dados mais atuais de cada
  munic√≠pio/estado;
- Em `caso_full` filtre por `had_cases=True` para ter dados apenas a partir das
  datas em que os locais come√ßaram a reportar o n√∫mero de casos maior que 1.
